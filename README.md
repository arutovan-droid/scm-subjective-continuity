# üß† SCM (Subjective Continuity Module)

[![Python 3.11](https://img.shields.io/badge/python-3.11-blue.svg)](https://www.python.org/downloads/)
[![Tests](https://img.shields.io/badge/tests-6%2F6-green.svg)]()
[![Armenian](https://img.shields.io/badge/üá¶üá≤-2nd%20place-orange)]()

**SCM** ‚Äî —ç—Ç–æ —è–¥—Ä–æ –æ–Ω—Ç–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–π –ø–∞–º—è—Ç–∏ –¥–ª—è —Å–∏—Å—Ç–µ–º –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞. 
–û–Ω–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ò–ò **–ø–æ–º–Ω–∏—Ç—å —Å–≤–æ—é –∏—Å—Ç–æ—Ä–∏—é**, **—É—á–∏—Ç—å—Å—è –Ω–∞ –æ—à–∏–±–∫–∞—Ö** –∏ **—Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –ª–∏—á–Ω–æ—Å—Ç–∏**.

## üéØ –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ **Genesis Anchor** ‚Äî —Ç–æ—á–∫–∞ —Ä–æ–∂–¥–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã (—Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è 1 —Ä–∞–∑ –≤ TEE)
- ‚úÖ **RSA Accumulator** ‚Äî O(1) –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è —Ü–µ–ø–æ—á–∫–∏ –∏–∑ —Ç—ã—Å—è—á —à—Ä–∞–º–æ–≤
- ‚úÖ **Write-Ahead Log** ‚Äî –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ —Å–±–æ–µ–≤
- ‚úÖ **Black Stone Mode** ‚Äî —Ä–µ–∂–∏–º "—Å–º–µ—Ä—Ç–∏" –ø—Ä–∏ –Ω–∞—Ä—É—à–µ–Ω–∏–∏ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏
- ‚úÖ **Cognitive Integrator** ‚Äî –≤–ª–∏—è–Ω–∏–µ —à—Ä–∞–º–æ–≤ –Ω–∞ –≤—ã–±–æ—Ä –∞–ø–æ—Å—Ç–æ–ª–æ–≤
- ‚úÖ **Apostle Trust System** ‚Äî –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –¥–æ–≤–µ—Ä–∏–µ –∫ —è–∑—ã–∫–∞–º/—Å—Ç–∏–ª—è–º

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### ‚úÖ –ê–ö–ö–£–ú–£–õ–Ø–¢–û–† (RSA Accumulator)
‚úì test_add_and_verify - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è
‚úì test_batch_verify - –ø–∞–∫–µ—Ç–Ω–∞—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è
‚úì test_incremental_chain - —Ü–µ–ø–æ—á–∫–∞ –∏–∑ 100 —à—Ä–∞–º–æ–≤

### ‚úÖ BLACK STONE MODE
 test_black_stone_activation - –∞–∫—Ç–∏–≤–∞—Ü–∏—è —Ä–µ–∂–∏–º–∞
‚úì test_black_stone_exit - –≤—ã—Ö–æ–¥ —á–µ—Ä–µ–∑ rebirth
‚úì test_black_stone_no_double_activation - –∑–∞—â–∏—Ç–∞ –æ—Ç –¥–≤–æ–π–Ω–æ–π –∞–∫—Ç–∏–≤–∞—Ü–∏–∏

### ‚úÖ –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø (Cognitive Integrator)
üìä Chain has 4 scars
‚úì –¶–µ–ø–æ—á–∫–∞ –≤–∞–ª–∏–¥–Ω–∞: True
## üìà –†–µ–π—Ç–∏–Ω–≥ –∞–ø–æ—Å—Ç–æ–ª–æ–≤ –ø–æ—Å–ª–µ –æ–±—É—á–µ–Ω–∏—è
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ # ‚îÇ –ê–ø–æ—Å—Ç–æ–ª ‚îÇ –î–æ–≤–µ—Ä–∏–µ ‚îÇ –®—Ä–∞–º–æ–≤ ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ 1 ‚îÇ üá©üá™ de ‚îÇ 0.90 ‚îÇ 0 ‚îÇ
‚îÇ 2 ‚îÇ üá¶üá≤ hy ‚îÇ 0.70 ‚îÇ 0 ‚îÇ
‚îÇ 3 ‚îÇ üá¨üáß en ‚îÇ 0.60 ‚îÇ 0 ‚îÇ
‚îÇ 4 ‚îÇ üáÆüá≥ sa ‚îÇ 0.50 ‚îÇ 0 ‚îÇ
‚îÇ 5 ‚îÇ üá´üá∑ fr ‚îÇ 0.50 ‚îÇ 0 ‚îÇ
‚îÇ 6 ‚îÇ üá™üá∏ es ‚îÇ 0.50 ‚îÇ 0 ‚îÇ
‚îÇ 7 ‚îÇ üáÆüáπ it ‚îÇ 0.50 ‚îÇ 0 ‚îÇ
‚îÇ 8 ‚îÇ üá∑üá∫ ru ‚îÇ 0.48 ‚îÇ 1 ‚îÇ
‚îÇ 9 ‚îÇ üá®üá≥ zh ‚îÇ 0.40 ‚îÇ 0 ‚îÇ
‚îÇ 10 ‚îÇ üáØüáµ ja ‚îÇ 0.40 ‚îÇ 0 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

> üí° **–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ**: —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫ –ø–æ–ª—É—á–∏–ª —à—Ä–∞–º (rejection) –∏ —É–ø–∞–ª —Å 0.80 –¥–æ 0.48, –∞ –∞—Ä–º—è–Ω—Å–∫–∏–π —É–≤–µ—Ä–µ–Ω–Ω–æ –¥–µ—Ä–∂–∏—Ç—Å—è –Ω–∞ 2-–º –º–µ—Å—Ç–µ! üá¶üá≤

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
git clone https://github.com/arutovan-droid/SCM-Subjective-Continuity-Module-.git
cd SCM-Subjective-Continuity-Module-
pip install -r requirements.txt
–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è genesis
python scripts/init_genesis.py
–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
pytest tests/ -v
üß™ –î–µ–º–æ-API (MVP)
–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Flask
bash
pip install flask
–°–æ–∑–¥–∞–π —Ñ–∞–π–ª api_demo.py:
python
from flask import Flask, request, jsonify
import asyncio
import hashlib
import uuid
from datetime import datetime
from core.ontological_scar import OntologicalScar
from accumulator.incremental_proof import IncrementalChainProof
from orchestrator.cognitive_integrator import CognitiveIntegrator

app = Flask(__name__)

# –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã
chain = None
integrator = None
genesis_hash = None

def init():
    global chain, integrator, genesis_hash
    with open('GENESIS.md', 'r') as f:
        content = f.read()
        genesis_hash = content.split('GENESIS_HASH = ')[1].split('\n')[0].strip()
    
    chain = IncrementalChainProof(
        genesis_hash=hashlib.sha256(genesis_hash.encode()).digest(),
        wal_path="chain.wal"
    )
    asyncio.run(chain.initialize())
    
    integrator = CognitiveIntegrator(chain, genesis_hash)
    asyncio.run(integrator.load_scars_from_chain())

init()

@app.route('/status', methods=['GET'])
def get_status():
    status = integrator.get_apostle_status()
    return jsonify({
        "chain_valid": chain.verify_chain(),
        "total_scars": chain.accumulator.current_sequence,
        "apostles": status
    })

@app.route('/route', methods=['POST'])
def route_query():
    data = request.json
    query = data.get('query', '')
    user_id = data.get('user_id', 'anonymous')
    
    decision = asyncio.run(integrator.decide_routing(query, user_id))
    
    return jsonify({
        "selected_basis": decision.selected_basis,
        "confidence": decision.confidence,
        "alternatives": decision.alternatives,
        "reasoning": decision.reasoning
    })

@app.route('/scar', methods=['POST'])
def create_scar():
    data = request.json
    
    scar = OntologicalScar(
        scar_id=uuid.uuid4(),
        genesis_ref=genesis_hash,
        incident_type=data.get('type', 'rejection'),
        cognitive_basis=data.get('basis', 'ru'),
        collision_mode=data.get('collision', False),
        pre_state_hash=data.get('pre_state', 'unknown'),
        post_state_hash=data.get('post_state', 'unknown'),
        deformation_vector=data.get('deformation', {}),
        entropy_score=data.get('entropy', 0.7),
        ontological_drift=data.get('drift', 0.1),
        timestamp=datetime.utcnow(),
        operator_id=data.get('operator', 'api_user')
    )
    
    async def add_scar():
        proof = await chain.add_scar(scar.to_hash())
        from dataclasses import replace
        scar_with_proof = replace(scar, chain_proof=proof, accumulator_value=chain.accumulator_value)
        integrator.apply_scar_to_apostles(scar_with_proof)
        return scar_with_proof
    
    new_scar = asyncio.run(add_scar())
    
    return jsonify({
        "scar_id": str(new_scar.scar_id),
        "basis": new_scar.cognitive_basis,
        "type": new_scar.incident_type,
        "new_trust": integrator.apostles[new_scar.cognitive_basis].current_trust
    })

@app.route('/apostles', methods=['GET'])
def get_apostles():
    status = integrator.get_apostle_status()
    sorted_apostles = sorted(
        [{"basis": k, **v} for k, v in status.items()],
        key=lambda x: x["trust"],
        reverse=True
    )
    return jsonify({"apostles": sorted_apostles})

if __name__ == '__main__':
    app.run(host='0.0.0.0', port=5000, debug=True)
–ó–∞–ø—É—Å–∫ API
bash
python api_demo.py
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API
bash
# –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç—É—Å
curl http://localhost:5000/status

# –ü–æ–ª—É—á–∏—Ç—å —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞
curl -X POST http://localhost:5000/route \
  -H "Content-Type: application/json" \
  -d '{"query": "–ü–æ—á–µ–º—É —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?"}'

# –°–æ–∑–¥–∞—Ç—å —à—Ä–∞–º
curl -X POST http://localhost:5000/scar \
  -H "Content-Type: application/json" \
  -d '{"type": "rejection", "basis": "ru"}'

# –ü–æ–ª—É—á–∏—Ç—å —Ä–µ–π—Ç–∏–Ω–≥ –∞–ø–æ—Å—Ç–æ–ª–æ–≤
curl http://localhost:5000/apostles
üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
text
symbion-space-core/
‚îú‚îÄ‚îÄ core/               # –Ø–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ genesis_anchor.py
‚îÇ   ‚îú‚îÄ‚îÄ ontological_scar.py
‚îÇ   ‚îî‚îÄ‚îÄ black_stone.py
‚îú‚îÄ‚îÄ accumulator/        # RSA –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ rsa_accumulator.py
‚îÇ   ‚îî‚îÄ‚îÄ incremental_proof.py
‚îú‚îÄ‚îÄ storage/            # –•—Ä–∞–Ω–∏–ª–∏—â–µ
‚îÇ   ‚îî‚îÄ‚îÄ wal_accumulator.py
‚îú‚îÄ‚îÄ orchestrator/       # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ cognitive_integrator.py
‚îú‚îÄ‚îÄ tests/              # –¢–µ—Å—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ test_accumulator.py
‚îÇ   ‚îî‚îÄ‚îÄ test_black_stone.py
‚îú‚îÄ‚îÄ scripts/            # –°–∫—Ä–∏–ø—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ init_genesis.py
‚îú‚îÄ‚îÄ GENESIS.md          # –ü—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á
‚îú‚îÄ‚îÄ chain.wal           # –õ–æ–≥ —Ü–µ–ø–æ—á–∫–∏
‚îî‚îÄ‚îÄ requirements.txt    # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è
MIT ¬© 2026 arutovan-droid

–°–æ–∑–¥–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è –∞—Ä–º—è–Ω—Å–∫–æ–≥–æ –ò–ò üá¶üá≤
